function isValidHttpUrl(t){return/^((https?:\/\/)?(?:[a-z0-9-]+\.)+[a-z0-9]{2,6}(?:\/[^/]*?)*$)/i.test(t)}async function getResult(t){return"ok"}chrome.webNavigation.onCompleted.addListener((async t=>{t.tabId;const e=t.url;if(isValidHttpUrl(e)){const t=new URL(e).origin;chrome.storage.sync.get("key",(async e=>{const n=e.key||{};if(!Object.keys(n).find((e=>t.startsWith(e)))){const e=await getResult(t),s=new Date,a=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`;n[t]={url:t,timestamp:a,result:e},chrome.storage.sync.set({key:n},(()=>{console.log("New entry saved:",t)}))}}))}}));